"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/units/page",{

/***/ "(app-pages-browser)/./app/services/units.ts":
/*!*******************************!*\
  !*** ./app/services/units.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUnit: () => (/* binding */ createUnit),\n/* harmony export */   deleteUnit: () => (/* binding */ deleteUnit),\n/* harmony export */   getUnit: () => (/* binding */ getUnit),\n/* harmony export */   getUnits: () => (/* binding */ getUnits),\n/* harmony export */   updateUnit: () => (/* binding */ updateUnit)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(app-pages-browser)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n/* harmony import */ var _qrcode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./qrcode */ \"(app-pages-browser)/./app/services/qrcode.ts\");\n\n\nconst supabaseUrl = \"https://pslapwodbwhedywmlfmk.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBzbGFwd29kYndoZWR5d21sZm1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA1NTQ4NzgsImV4cCI6MjA1NjEzMDg3OH0.YXR7RN1ELBO8ywDv_tXpioTFJrpNXr9UtDLhxzgcHmU\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(supabaseUrl, supabaseAnonKey);\nasync function getUnits(buildingId) {\n    try {\n        let query = supabase.from('units').select('*').order('unit_number');\n        if (buildingId) {\n            query = query.eq('building_id', buildingId);\n        }\n        const { data, error } = await query;\n        if (error) {\n            console.error('Supabase error:', error);\n            throw new Error(\"Failed to fetch units: \".concat(error.message));\n        }\n        if (!data) {\n            throw new Error('No data returned from Supabase');\n        }\n        return data;\n    } catch (error) {\n        console.error('Error in getUnits:', error);\n        throw error;\n    }\n}\nasync function getUnit(id) {\n    try {\n        console.log(\"Fetching unit with ID: \".concat(id));\n        // Use direct fetch API instead of Supabase client to ensure consistent headers across browsers\n        const response = await fetch(\"\".concat(supabaseUrl, \"/rest/v1/units?id=eq.\").concat(id), {\n            method: 'GET',\n            headers: {\n                'apikey': supabaseAnonKey,\n                'Authorization': \"Bearer \".concat(supabaseAnonKey),\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Prefer': 'return=representation'\n            }\n        });\n        if (!response.ok) {\n            throw new Error(\"HTTP error! status: \".concat(response.status, \", statusText: \").concat(response.statusText));\n        }\n        const units = await response.json();\n        console.log(\"Received data for unit query:\", units);\n        if (!units || units.length === 0) {\n            throw new Error(\"Unit not found with ID: \".concat(id));\n        }\n        return units[0];\n    } catch (error) {\n        console.error(\"Failed to fetch unit (\".concat(id, \"):\"), error);\n        throw error;\n    }\n}\nasync function createUnit(unit) {\n    try {\n        console.log('[Unit Debug] Creating new unit:', unit);\n        // First create the unit without QR code\n        const { data, error } = await supabase.from('units').insert([\n            unit\n        ]).select().single();\n        if (error) {\n            console.error('[Unit Debug] Supabase error creating unit:', error);\n            throw error;\n        }\n        console.log('[Unit Debug] Unit created successfully:', data);\n        // Now generate and assign QR code\n        try {\n            console.log('[Unit Debug] Starting QR code generation for unit:', data.id);\n            const qrCodeUrl = await (0,_qrcode__WEBPACK_IMPORTED_MODULE_0__.generateAndUploadQRCode)(data.id, data.unit_number, data.building_id);\n            console.log('[Unit Debug] QR code generated, URL:', qrCodeUrl);\n            // Update the unit with the QR code URL\n            console.log('[Unit Debug] Updating unit with QR code URL');\n            const { data: updatedData, error: updateError } = await supabase.from('units').update({\n                qr_code_url: qrCodeUrl\n            }).eq('id', data.id).select().single();\n            if (updateError) {\n                console.error('[Unit Debug] Error updating unit with QR code:', updateError);\n                // Still return the unit even if QR code assignment fails\n                return data;\n            }\n            console.log('[Unit Debug] Unit updated with QR code URL successfully:', updatedData);\n            return updatedData;\n        } catch (qrError) {\n            console.error('[Unit Debug] Error generating QR code:', qrError);\n            // Return the unit without QR code if generation fails\n            return data;\n        }\n    } catch (error) {\n        console.error('[Unit Debug] Error in createUnit:', error);\n        throw error;\n    }\n}\nasync function updateUnit(unit) {\n    try {\n        const { data, error } = await supabase.from('units').update(unit).eq('id', unit.id).select().single();\n        if (error) {\n            console.error('Supabase error:', error);\n            throw error;\n        }\n        return data;\n    } catch (error) {\n        console.error('Error in updateUnit:', error);\n        throw error;\n    }\n}\nasync function deleteUnit(id) {\n    try {\n        const { error } = await supabase.from('units').delete().eq('id', id);\n        if (error) {\n            console.error('Supabase error:', error);\n            throw error;\n        }\n    } catch (error) {\n        console.error('Error in deleteUnit:', error);\n        throw error;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9zZXJ2aWNlcy91bml0cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFEO0FBRUY7QUFFbkQsTUFBTUUsY0FBY0MsMENBQW9DO0FBQ3hELE1BQU1HLGtCQUFrQkgsa05BQXlDO0FBQ2pFLE1BQU1LLFdBQVdSLG1FQUFZQSxDQUFDRSxhQUFhSTtBQUVwQyxlQUFlRyxTQUFTQyxVQUFtQjtJQUNoRCxJQUFJO1FBQ0YsSUFBSUMsUUFBUUgsU0FDVEksSUFBSSxDQUFDLFNBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxLQUFLLENBQUM7UUFFVCxJQUFJSixZQUFZO1lBQ2RDLFFBQVFBLE1BQU1JLEVBQUUsQ0FBQyxlQUFlTDtRQUNsQztRQUVBLE1BQU0sRUFBRU0sSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNTjtRQUU5QixJQUFJTSxPQUFPO1lBQ1RDLFFBQVFELEtBQUssQ0FBQyxtQkFBbUJBO1lBQ2pDLE1BQU0sSUFBSUUsTUFBTSwwQkFBd0MsT0FBZEYsTUFBTUcsT0FBTztRQUN6RDtRQUVBLElBQUksQ0FBQ0osTUFBTTtZQUNULE1BQU0sSUFBSUcsTUFBTTtRQUNsQjtRQUVBLE9BQU9IO0lBQ1QsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxzQkFBc0JBO1FBQ3BDLE1BQU1BO0lBQ1I7QUFDRjtBQUVPLGVBQWVJLFFBQVFDLEVBQVU7SUFDdEMsSUFBSTtRQUNGSixRQUFRSyxHQUFHLENBQUMsMEJBQTZCLE9BQUhEO1FBRXRDLCtGQUErRjtRQUMvRixNQUFNRSxXQUFXLE1BQU1DLE1BQU0sR0FBc0NILE9BQW5DcEIsYUFBWSx5QkFBMEIsT0FBSG9CLEtBQU07WUFDdkVJLFFBQVE7WUFDUkMsU0FBUztnQkFDUCxVQUFVckI7Z0JBQ1YsaUJBQWlCLFVBQTBCLE9BQWhCQTtnQkFDM0IsVUFBVTtnQkFDVixnQkFBZ0I7Z0JBQ2hCLFVBQVU7WUFDWjtRQUNGO1FBRUEsSUFBSSxDQUFDa0IsU0FB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O1lBQ1RDLFFBQVFELEtBQUssQ0FBQyxtQkFBbUJBO1lBQ2pDLE1BQU1BO1FBQ1I7SUFDRixFQUFFLE9BQU9BLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdCQUF3QkE7UUFDdEMsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvam9lbGt3b2gvRG9jdW1lbnRzL0dpdEh1Yi9teXFyY29kZS1odWIvYXBwL3NlcnZpY2VzL3VuaXRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyBVbml0LCBDcmVhdGVVbml0SW5wdXQsIFVwZGF0ZVVuaXRJbnB1dCB9IGZyb20gJy4uL3R5cGVzL3VuaXRzJztcbmltcG9ydCB7IGdlbmVyYXRlQW5kVXBsb2FkUVJDb2RlIH0gZnJvbSAnLi9xcmNvZGUnO1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCE7XG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSE7XG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVuaXRzKGJ1aWxkaW5nSWQ/OiBzdHJpbmcpOiBQcm9taXNlPFVuaXRbXT4ge1xuICB0cnkge1xuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndW5pdHMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAub3JkZXIoJ3VuaXRfbnVtYmVyJyk7XG4gICAgXG4gICAgaWYgKGJ1aWxkaW5nSWQpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2J1aWxkaW5nX2lkJywgYnVpbGRpbmdJZCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5O1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCB1bml0czogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cblxuICAgIGlmICghZGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBkYXRhIHJldHVybmVkIGZyb20gU3VwYWJhc2UnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBnZXRVbml0czonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVuaXQoaWQ6IHN0cmluZyk6IFByb21pc2U8VW5pdD4ge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGBGZXRjaGluZyB1bml0IHdpdGggSUQ6ICR7aWR9YCk7XG4gICAgXG4gICAgLy8gVXNlIGRpcmVjdCBmZXRjaCBBUEkgaW5zdGVhZCBvZiBTdXBhYmFzZSBjbGllbnQgdG8gZW5zdXJlIGNvbnNpc3RlbnQgaGVhZGVycyBhY3Jvc3MgYnJvd3NlcnNcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3N1cGFiYXNlVXJsfS9yZXN0L3YxL3VuaXRzP2lkPWVxLiR7aWR9YCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ2FwaWtleSc6IHN1cGFiYXNlQW5vbktleSxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7c3VwYWJhc2VBbm9uS2V5fWAsXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdQcmVmZXInOiAncmV0dXJuPXJlcHJlc2VudGF0aW9uJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c30sIHN0YXR1c1RleHQ6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdW5pdHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc29sZS5sb2coYFJlY2VpdmVkIGRhdGEgZm9yIHVuaXQgcXVlcnk6YCwgdW5pdHMpO1xuICAgIFxuICAgIGlmICghdW5pdHMgfHwgdW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuaXQgbm90IGZvdW5kIHdpdGggSUQ6ICR7aWR9YCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB1bml0c1swXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggdW5pdCAoJHtpZH0pOmAsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVW5pdCh1bml0OiBDcmVhdGVVbml0SW5wdXQpOiBQcm9taXNlPFVuaXQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnW1VuaXQgRGVidWddIENyZWF0aW5nIG5ldyB1bml0OicsIHVuaXQpO1xuICAgIC8vIEZpcnN0IGNyZWF0ZSB0aGUgdW5pdCB3aXRob3V0IFFSIGNvZGVcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VuaXRzJylcbiAgICAgIC5pbnNlcnQoW3VuaXRdKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tVbml0IERlYnVnXSBTdXBhYmFzZSBlcnJvciBjcmVhdGluZyB1bml0OicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdbVW5pdCBEZWJ1Z10gVW5pdCBjcmVhdGVkIHN1Y2Nlc3NmdWxseTonLCBkYXRhKTtcblxuICAgIC8vIE5vdyBnZW5lcmF0ZSBhbmQgYXNzaWduIFFSIGNvZGVcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1tVbml0IERlYnVnXSBTdGFydGluZyBRUiBjb2RlIGdlbmVyYXRpb24gZm9yIHVuaXQ6JywgZGF0YS5pZCk7XG4gICAgICBjb25zdCBxckNvZGVVcmwgPSBhd2FpdCBnZW5lcmF0ZUFuZFVwbG9hZFFSQ29kZShcbiAgICAgICAgZGF0YS5pZCxcbiAgICAgICAgZGF0YS51bml0X251bWJlcixcbiAgICAgICAgZGF0YS5idWlsZGluZ19pZFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1tVbml0IERlYnVnXSBRUiBjb2RlIGdlbmVyYXRlZCwgVVJMOicsIHFyQ29kZVVybCk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSB0aGUgdW5pdCB3aXRoIHRoZSBRUiBjb2RlIFVSTFxuICAgICAgY29uc29sZS5sb2coJ1tVbml0IERlYnVnXSBVcGRhdGluZyB1bml0IHdpdGggUVIgY29kZSBVUkwnKTtcbiAgICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZERhdGEsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VuaXRzJylcbiAgICAgICAgLnVwZGF0ZSh7IHFyX2NvZGVfdXJsOiBxckNvZGVVcmwgfSlcbiAgICAgICAgLmVxKCdpZCcsIGRhdGEuaWQpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG4gICAgICBcbiAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbVW5pdCBEZWJ1Z10gRXJyb3IgdXBkYXRpbmcgdW5pdCB3aXRoIFFSIGNvZGU6JywgdXBkYXRlRXJyb3IpO1xuICAgICAgICAvLyBTdGlsbCByZXR1cm4gdGhlIHVuaXQgZXZlbiBpZiBRUiBjb2RlIGFzc2lnbm1lbnQgZmFpbHNcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdbVW5pdCBEZWJ1Z10gVW5pdCB1cGRhdGVkIHdpdGggUVIgY29kZSBVUkwgc3VjY2Vzc2Z1bGx5OicsIHVwZGF0ZWREYXRhKTtcbiAgICAgIHJldHVybiB1cGRhdGVkRGF0YTtcbiAgICB9IGNhdGNoIChxckVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbVW5pdCBEZWJ1Z10gRXJyb3IgZ2VuZXJhdGluZyBRUiBjb2RlOicsIHFyRXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIHRoZSB1bml0IHdpdGhvdXQgUVIgY29kZSBpZiBnZW5lcmF0aW9uIGZhaWxzXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW1VuaXQgRGVidWddIEVycm9yIGluIGNyZWF0ZVVuaXQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVbml0KHVuaXQ6IFVwZGF0ZVVuaXRJbnB1dCk6IFByb21pc2U8VW5pdD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndW5pdHMnKVxuICAgICAgLnVwZGF0ZSh1bml0KVxuICAgICAgLmVxKCdpZCcsIHVuaXQuaWQpXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdXBkYXRlVW5pdDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVVuaXQoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndW5pdHMnKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAuZXEoJ2lkJywgaWQpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZGVsZXRlVW5pdDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn0gIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImdlbmVyYXRlQW5kVXBsb2FkUVJDb2RlIiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSIsImdldFVuaXRzIiwiYnVpbGRpbmdJZCIsInF1ZXJ5IiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiZXEiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwiZ2V0VW5pdCIsImlkIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJ1bml0cyIsImpzb24iLCJsZW5ndGgiLCJjcmVhdGVVbml0IiwidW5pdCIsImluc2VydCIsInNpbmdsZSIsInFyQ29kZVVybCIsInVuaXRfbnVtYmVyIiwiYnVpbGRpbmdfaWQiLCJ1cGRhdGVkRGF0YSIsInVwZGF0ZUVycm9yIiwidXBkYXRlIiwicXJfY29kZV91cmwiLCJxckVycm9yIiwidXBkYXRlVW5pdCIsImRlbGV0ZVVuaXQiLCJkZWxldGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/services/units.ts\n"));

/***/ })

});